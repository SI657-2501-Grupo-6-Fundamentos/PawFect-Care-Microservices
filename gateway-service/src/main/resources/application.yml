spring:
  application:
    name: gateway-service
  cloud:
    gateway:
      routes:
        # Pet Owner Service
        - id: pet-owner-service
          uri: lb://pet-owner-service
          predicates:
            - Path=/pet-owner-service/**
          filters:
            - StripPrefix=1
        # Pet Service
        - id: pet-service
          uri: lb://pet-service
          predicates:
            - Path=/pet-service/**
          filters:
            - StripPrefix=1
        # Veterinary Service
        - id: veterinary-service
          uri: lb://veterinary-service
          predicates:
            - Path=/veterinary-service/**
          filters:
            - StripPrefix=1
        # Schedule Service
        - id: schedule-service
          uri: lb://schedule-service
          predicates:
            - Path=/schedule-service/**
          filters:
            - StripPrefix=1
        # Medical Record Service
        - id: medical-record-service
          uri: lb://medical-record-service
          predicates:
            - Path=/medical-record-service/**
          filters:
            - StripPrefix=1
        # Appointment Service
        - id: appointment-service
          uri: lb://appointment-service
          predicates:
            - Path=/appointment-service/**
          filters:
            - StripPrefix=1
        # Review Service
        - id: review-service
          uri: lb://review-service
          predicates:
            - Path=/review-service/**
          filters:
            - StripPrefix=1
        # Diagnostic Service (antes era Treatment Service)
        - id: diagnostic-service
          uri: lb://diagnostic-service
          predicates:
            - Path=/diagnostic-service/**
          filters:
            - StripPrefix=1
        # IAM Service - SOLO esta ruta para autenticaci√≥n
        - id: iam-service
          uri: lb://iam-service
          predicates:
            - Path=/iam-service/**
          filters:
            - StripPrefix=1
        # IAM Service - registro admin
        - id: iam-service-admin-registro
          uri: lb://iam-service
          predicates:
            - Path=/api/v1/users_admin/registro
          filters:
            - StripPrefix=0


server:
  port: 8010
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8090/eureka/
      logging:
        level:
          org.springframework.security: DEBUG
          org.springframework.security.web.FilterChainProxy: DEBUG

springdoc:
  swagger-ui:
    use-root-path: true
    urls:
      - url: /iam-service/v3/api-docs
        name: Iam Service
      - url: /pet-owner-service/v3/api-docs
        name: Pet Owner Service
      - url: /pet-service/v3/api-docs
        name: Pet Service
      - url: /veterinary-service/v3/api-docs
        name: Veterinary Service
      - url: /schedule-service/v3/api-docs
        name: Schedule Service
      - url: /medical-record-service/v3/api-docs
        name: Medical Record Service
      - url: /appointment-service/v3/api-docs
        name: Appointment Service
      - url: /review-service/v3/api-docs
        name: Review Service
      - url: /diagnostic-service/v3/api-docs
        name: Diagnostic Service